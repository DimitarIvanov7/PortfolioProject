<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Web site created using create-react-app" />
    <link href="https://fonts.googleapis.com/css2?family=Urbanist:ital,wght@0,500;1,300&display=swap" rel="stylesheet">
    <link
  rel="stylesheet"
  type="text/css"
  charset="UTF-8"
  href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css"
/>
<link
  rel="stylesheet"
  type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css"
/>

    <script src="https://cdn.rawgit.com/bradley/Blotter/master/build/blotter.min.js"></script>
    <script src="https://cdn.rawgit.com/bradley/Blotter/3007fe6e/build/materials/fliesMaterial.js"></script>
    
    <title>React App</title>
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
  </body>

  <style>
    * {
      margin: 0;
      font-family: 'Urbanist', sans-serif;
    }

    html {
      height: 0;
    }

    body {
      height: fit-content;
      min-height: 100%;
      /* background-color: aqua; */
      background-color: black;
    }


  </style>

  <script type="text/javascript" src="./vanilla-tilt.js"></script>
  <script>
    //matrix effect
    const canvas = document.querySelectorAll('#canvas');

    function matrixAnimation(canvas){
    
      const context = canvas.getContext('2d')

      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const katakana = 'アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズブヅプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン';
      const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
      const nums = '0123456789';

      const alphabet = katakana + latin + nums;

      const fontSize = 16;
      const columns = canvas.width/fontSize;

      const rainDrops = [];

      for( let x = 0; x < columns; x++ ) {
        rainDrops[x] = 1;
      }

      const draw = () => {
        context.fillStyle = 'rgba(0, 0, 0, 0.05)';
        context.fillRect(0, 0, canvas.width, canvas.height);
        
        context.fillStyle = '#45A29E';
        context.font = fontSize + 'px monospace';

        for(let i = 0; i < rainDrops.length; i++)
        {
          const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
          context.fillText(text, i*fontSize, rainDrops[i]*fontSize);
          
          if(rainDrops[i]*fontSize > canvas.height && Math.random() > 0.975){
            rainDrops[i] = 0;
              }
          rainDrops[i]++;
        }
      };

      setInterval(draw, 30);
    }

    canvas.forEach(canv => matrixAnimation(canv))


    //tilt effect
    VanillaTilt.init(document.querySelectorAll(".image-tilt"), {
      max: 25,
      speed: 400
	  });

    // particle effect

    const container = document.getElementById("particle-text");

    let textvh = window.innerHeight * 0.1533;

    const text = new Blotter.Text("DIMITAR IVANOV", {
        family: "serif",
        size: 120,
        fill: "#66FCF1",
        paddingLeft: 80,
        paddingRight: 80,
        paddingTop: 80,
        paddingBottom: 80,
    });

    const material = new Blotter.FliesMaterial();
    material.uniforms.uPointCellWidth.value = 0.01;
    material.uniforms.uPointRadius.value = 0.5;
    material.uniforms.uSpeed.value = 3;

    const blotter = new Blotter(material, {
        texts: text,
    });

    const scope = blotter.forText(text);
    scope.appendTo(container);

  </script>

</html>